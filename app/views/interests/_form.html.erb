<%= form_with(model: @interest)  do |f| %>
    <%= f.hidden_field :publishing_company_id, value: current_publishing_company.id %>
    <%= f.hidden_field :book_id, value: book.id %>

    <%= f.submit "Interested"%>
<%end%>


<script type="text/javascript" charset="utf-8">
  $(function () {
    $('form').submit(function(event) {
      //prevent form from submitting the default way
      event.preventDefault();

      const values = $(this).serialize();
      const posting = $.post('/interests', values);

      posting.done(function(data) {
        const post = data
        console.log('success')
      });
    });
  });
</script>
